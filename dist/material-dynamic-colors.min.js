"use strict";function _typeof(e){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}function asyncGeneratorStep(e,n,t,r,d,o,i){try{var a=e[o](i),u=a.value}catch(e){return void t(e)}a.done?n(u):Promise.resolve(u).then(r,d)}function _asyncToGenerator(e){return function(){var n=this,t=arguments;return new Promise(function(r,d){function o(e){asyncGeneratorStep(a,r,d,o,i,"next",e)}function i(e){asyncGeneratorStep(a,r,d,o,i,"throw",e)}var a=e.apply(n,t);o(void 0)})}}function _slicedToArray(e,n){return _arrayWithHoles(e)||_iterableToArrayLimit(e,n)||_unsupportedIterableToArray(e,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,d,o=[],i=!0,a=!1;try{for(t=t.call(e);!(i=(r=t.next()).done)&&(o.push(r.value),!(n&&o.length===n));i=!0);}catch(e){a=!0,d=e}finally{try{i||null==t["return"]||t["return"]()}finally{if(a)throw d}}return o}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,d=function(){};return{s:d,n:function n(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(e){throw e},f:d}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,c=!1;return{s:function s(){t=t.call(e)},n:function n(){var e=t.next();return u=e.done,e},e:function e(e){c=!0,a=e},f:function f(){try{u||null==t["return"]||t["return"]()}finally{if(c)throw a}}}}function _inherits(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&_setPrototypeOf(e,n)}function _setPrototypeOf(e,n){return _setPrototypeOf=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},_setPrototypeOf(e,n)}function _createSuper(e){var n=_isNativeReflectConstruct();return function(){var t,r=_getPrototypeOf(e);if(n){var d=_getPrototypeOf(this).constructor;t=Reflect.construct(r,arguments,d)}else t=r.apply(this,arguments);return _possibleConstructorReturn(this,t)}}function _possibleConstructorReturn(e,n){if(n&&("object"===_typeof(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}function _getPrototypeOf(e){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},_getPrototypeOf(e)}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t,r=0;r<n.length;r++)t=n[r],t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}(function(){var e=Math.min,n=Math.max,d=Math.abs,o=Math.sin,i=Math.cos,u=Math.sqrt,s=Math.log,l=Math.PI,g=Math.round,m=Math.pow,y=function(e){try{return Y(e)}catch(n){return console.debug("error converting [".concat(e,"] to hex"),n),"#000000"}},b=function(e){return{luminance100:y(e.tone(100)),luminance99:y(e.tone(99)),luminance98:y(e.tone(98)),luminance95:y(e.tone(95)),luminance90:y(e.tone(90)),luminance80:y(e.tone(80)),luminance70:y(e.tone(70)),luminance60:y(e.tone(60)),luminance50:y(e.tone(50)),luminance40:y(e.tone(40)),luminance35:y(e.tone(35)),luminance30:y(e.tone(30)),luminance25:y(e.tone(25)),luminance20:y(e.tone(20)),luminance10:y(e.tone(10)),luminance0:y(e.tone(0))}},h=function(e,n,t){var r,d=null!==(r=e.props.overrides.tonalGroups)&&void 0!==r?r:{},o=Object(d)[n];return(!q.is1p||e.props.isBaseline)&&o?o:b(t)},x=function(e,n){var t=new Map;return t.set("".concat(e,"-100"),n.luminance100),t.set("".concat(e,"-99"),n.luminance99),t.set("".concat(e,"-98"),n.luminance98),t.set("".concat(e,"-95"),n.luminance95),t.set("".concat(e,"-90"),n.luminance90),t.set("".concat(e,"-80"),n.luminance80),t.set("".concat(e,"-70"),n.luminance70),t.set("".concat(e,"-60"),n.luminance60),t.set("".concat(e,"-50"),n.luminance50),t.set("".concat(e,"-40"),n.luminance40),t.set("".concat(e,"-35"),n.luminance35),t.set("".concat(e,"-30"),n.luminance30),t.set("".concat(e,"-25"),n.luminance25),t.set("".concat(e,"-20"),n.luminance20),t.set("".concat(e,"-10"),n.luminance10),t.set("".concat(e,"-0"),n.luminance0),t},v=function(e){var n=(e+16)/116,t=24389/27,r=n*n*n>216/24389,d=[(r?n*n*n:(116*n-16)/t)*R[0],(8<e?n*n*n:e/t)*R[1],(r?n*n*n:(116*n-16)/t)*R[2]];return _(d[0],d[1],d[2])},S=/*#__PURE__*/function(){function e(n){_classCallCheck(this,e),this.props=n}return _createClass(e,[{key:"isBaseline",get:function get(){return __checks_isThemeBaseline(this.save())}},{key:"is3p",get:function get(){return this.props.is3p}},{key:"styles",get:function get(){return this.props.is3p?__BASELINE_3P.styles:__BASELINE_1P.styles}},{key:"imageUrl",get:function get(){return this.props.imageUrl}},{key:"light",get:function get(){var e,n,t,r,d,o,i,a,u,c,s,f,l,g,m,y,b,h,x,v,S,k,C,N,P,_,V,T,A,w,G=this.props.isBaseline?null===(e=q.is1p?__BASELINE_1P:__BASELINE_3P)||void 0===e?void 0:e.light:null!==(t=null===(n=this.props.overrides)||void 0===n?void 0:n.light)&&void 0!==t?t:{},I=this.palettes;return{primary:null!==(r=null===G||void 0===G?void 0:G.primary)&&void 0!==r?r:I.get("P-40"),onPrimary:null!==(d=null===G||void 0===G?void 0:G.onPrimary)&&void 0!==d?d:I.get("P-100"),primaryContainer:null!==(o=null===G||void 0===G?void 0:G.primaryContainer)&&void 0!==o?o:I.get("P-90"),onPrimaryContainer:null!==(i=null===G||void 0===G?void 0:G.onPrimaryContainer)&&void 0!==i?i:I.get("P-10"),secondary:null!==(a=null===G||void 0===G?void 0:G.secondary)&&void 0!==a?a:I.get("S-40"),onSecondary:null!==(u=null===G||void 0===G?void 0:G.onSecondary)&&void 0!==u?u:I.get("S-100"),secondaryContainer:null!==(c=null===G||void 0===G?void 0:G.secondaryContainer)&&void 0!==c?c:I.get("S-90"),onSecondaryContainer:null!==(s=null===G||void 0===G?void 0:G.onSecondaryContainer)&&void 0!==s?s:I.get("S-10"),tertiary:null!==(f=null===G||void 0===G?void 0:G.tertiary)&&void 0!==f?f:I.get("T-40"),onTertiary:null!==(l=null===G||void 0===G?void 0:G.onTertiary)&&void 0!==l?l:I.get("T-100"),tertiaryContainer:null!==(g=null===G||void 0===G?void 0:G.tertiaryContainer)&&void 0!==g?g:I.get("T-90"),onTertiaryContainer:null!==(m=null===G||void 0===G?void 0:G.onTertiaryContainer)&&void 0!==m?m:I.get("T-10"),error:null!==(y=null===G||void 0===G?void 0:G.error)&&void 0!==y?y:I.get("E-40"),errorContainer:null!==(b=null===G||void 0===G?void 0:G.errorContainer)&&void 0!==b?b:I.get("E-90"),onError:null!==(h=null===G||void 0===G?void 0:G.onError)&&void 0!==h?h:I.get("E-100"),onErrorContainer:null!==(x=null===G||void 0===G?void 0:G.onErrorContainer)&&void 0!==x?x:I.get("E-10"),background:null!==(v=null===G||void 0===G?void 0:G.background)&&void 0!==v?v:I.get("N-99"),onBackground:null!==(S=null===G||void 0===G?void 0:G.onBackground)&&void 0!==S?S:I.get("N-10"),surface:null!==(k=null===G||void 0===G?void 0:G.surface)&&void 0!==k?k:I.get("N-99"),onSurface:null!==(C=null===G||void 0===G?void 0:G.onSurface)&&void 0!==C?C:I.get("N-10"),surfaceVariant:null!==(N=null===G||void 0===G?void 0:G.surfaceVariant)&&void 0!==N?N:I.get("NV-90"),onSurfaceVariant:null!==(P=null===G||void 0===G?void 0:G.onSurfaceVariant)&&void 0!==P?P:I.get("NV-30"),outline:null!==(_=null===G||void 0===G?void 0:G.outline)&&void 0!==_?_:I.get("NV-50"),inverseOnSurface:null!==(V=null===G||void 0===G?void 0:G.inverseOnSurface)&&void 0!==V?V:I.get("N-95"),inverseSurface:null!==(T=null===G||void 0===G?void 0:G.inverseSurface)&&void 0!==T?T:I.get("N-20"),inversePrimary:null!==(A=null===G||void 0===G?void 0:G.inversePrimary)&&void 0!==A?A:I.get("P-80"),shadow:null!==(w=null===G||void 0===G?void 0:G.shadow)&&void 0!==w?w:I.get("N-0")}}},{key:"dark",get:function get(){var e,n,t,r,d,o,i,a,u,c,s,f,l,g,m,y,b,h,x,v,S,k,C,N,P,_,V,T,A,w,G=this.props.isBaseline?null===(e=q.is1p?__BASELINE_1P:__BASELINE_3P)||void 0===e?void 0:e.dark:null!==(t=null===(n=this.props.overrides)||void 0===n?void 0:n.dark)&&void 0!==t?t:{},I=this.palettes;return{primary:null!==(r=null===G||void 0===G?void 0:G.primary)&&void 0!==r?r:I.get("P-80"),onPrimary:null!==(d=null===G||void 0===G?void 0:G.onPrimary)&&void 0!==d?d:I.get("P-20"),primaryContainer:null!==(o=null===G||void 0===G?void 0:G.primaryContainer)&&void 0!==o?o:I.get("P-30"),onPrimaryContainer:null!==(i=null===G||void 0===G?void 0:G.onPrimaryContainer)&&void 0!==i?i:I.get("P-90"),secondary:null!==(a=null===G||void 0===G?void 0:G.secondary)&&void 0!==a?a:I.get("S-80"),onSecondary:null!==(u=null===G||void 0===G?void 0:G.onSecondary)&&void 0!==u?u:I.get("S-20"),secondaryContainer:null!==(c=null===G||void 0===G?void 0:G.secondaryContainer)&&void 0!==c?c:I.get("S-30"),onSecondaryContainer:null!==(s=null===G||void 0===G?void 0:G.onSecondaryContainer)&&void 0!==s?s:I.get("S-90"),tertiary:null!==(f=null===G||void 0===G?void 0:G.tertiary)&&void 0!==f?f:I.get("T-80"),onTertiary:null!==(l=null===G||void 0===G?void 0:G.onTertiary)&&void 0!==l?l:I.get("T-20"),tertiaryContainer:null!==(g=null===G||void 0===G?void 0:G.tertiaryContainer)&&void 0!==g?g:I.get("T-30"),onTertiaryContainer:null!==(m=null===G||void 0===G?void 0:G.onTertiaryContainer)&&void 0!==m?m:I.get("T-90"),error:null!==(y=null===G||void 0===G?void 0:G.error)&&void 0!==y?y:I.get("E-80"),errorContainer:null!==(b=null===G||void 0===G?void 0:G.errorContainer)&&void 0!==b?b:I.get("E-30"),onError:null!==(h=null===G||void 0===G?void 0:G.onError)&&void 0!==h?h:I.get("E-20"),onErrorContainer:null!==(x=null===G||void 0===G?void 0:G.onErrorContainer)&&void 0!==x?x:I.get("E-90"),background:null!==(v=null===G||void 0===G?void 0:G.background)&&void 0!==v?v:I.get("N-10"),onBackground:null!==(S=null===G||void 0===G?void 0:G.onBackground)&&void 0!==S?S:I.get("N-90"),surface:null!==(k=null===G||void 0===G?void 0:G.surface)&&void 0!==k?k:I.get("N-10"),onSurface:null!==(C=null===G||void 0===G?void 0:G.onSurface)&&void 0!==C?C:I.get("N-90"),surfaceVariant:null!==(N=null===G||void 0===G?void 0:G.surfaceVariant)&&void 0!==N?N:I.get("NV-30"),onSurfaceVariant:null!==(P=null===G||void 0===G?void 0:G.onSurfaceVariant)&&void 0!==P?P:I.get("NV-80"),outline:null!==(_=null===G||void 0===G?void 0:G.outline)&&void 0!==_?_:I.get("NV-60"),inverseOnSurface:null!==(V=null===G||void 0===G?void 0:G.inverseOnSurface)&&void 0!==V?V:I.get("N-10"),inverseSurface:null!==(T=null===G||void 0===G?void 0:G.inverseSurface)&&void 0!==T?T:I.get("N-90"),inversePrimary:null!==(A=null===G||void 0===G?void 0:G.inversePrimary)&&void 0!==A?A:I.get("P-40"),shadow:null!==(w=null===G||void 0===G?void 0:G.shadow)&&void 0!==w?w:I.get("N-0")}}},{key:"androidLight",get:function get(){var e,n,t,r,d,o,i,a,u,c,s,f,l,g,m,b,h,x,v,S,k,C,N,P,_,V,T,A,w,G,I,B,j,E,O,D,R,L,H,U,W,F,z,M,q,$,J,K,Q,X,Y,Z=this.palettes,p=this.props.tones,ee=null===(e=this.props.overrides)||void 0===e?void 0:e.androidLight;return{colorAccentPrimary:null!==(t=null!==(n=null===ee||void 0===ee?void 0:ee.colorAccentPrimary)&&void 0!==n?n:Z.get("P-90"))&&void 0!==t?t:y(p.a1.tone(90)),colorAccentPrimaryVariant:null!==(d=null!==(r=null===ee||void 0===ee?void 0:ee.colorAccentPrimaryVariant)&&void 0!==r?r:Z.get("P-40"))&&void 0!==d?d:y(p.a1.tone(40)),colorAccentSecondary:null!==(i=null!==(o=null===ee||void 0===ee?void 0:ee.colorAccentSecondary)&&void 0!==o?o:Z.get("S-90"))&&void 0!==i?i:y(p.a2.tone(90)),colorAccentSecondaryVariant:null!==(u=null!==(a=null===ee||void 0===ee?void 0:ee.colorAccentSecondaryVariant)&&void 0!==a?a:Z.get("S-40"))&&void 0!==u?u:y(p.a2.tone(40)),colorAccentTertiary:null!==(s=null!==(c=null===ee||void 0===ee?void 0:ee.colorAccentTertiary)&&void 0!==c?c:Z.get("T-90"))&&void 0!==s?s:y(p.a3.tone(90)),colorAccentTertiaryVariant:null!==(l=null!==(f=null===ee||void 0===ee?void 0:ee.colorAccentTertiaryVariant)&&void 0!==f?f:Z.get("T-40"))&&void 0!==l?l:y(p.a3.tone(40)),textColorPrimary:null!==(m=null!==(g=null===ee||void 0===ee?void 0:ee.textColorPrimary)&&void 0!==g?g:Z.get("N-10"))&&void 0!==m?m:y(p.n1.tone(10)),textColorSecondary:null!==(h=null!==(b=null===ee||void 0===ee?void 0:ee.textColorSecondary)&&void 0!==b?b:Z.get("NV-30"))&&void 0!==h?h:y(p.n2.tone(30)),textColorTertiary:null!==(v=null!==(x=null===ee||void 0===ee?void 0:ee.textColorTertiary)&&void 0!==x?x:Z.get("NV-50"))&&void 0!==v?v:y(p.n2.tone(50)),textColorPrimaryInverse:null!==(k=null!==(S=null===ee||void 0===ee?void 0:ee.textColorPrimaryInverse)&&void 0!==S?S:Z.get("N-95"))&&void 0!==k?k:y(p.n1.tone(95)),textColorSecondaryInverse:null!==(N=null!==(C=null===ee||void 0===ee?void 0:ee.textColorSecondaryInverse)&&void 0!==C?C:Z.get("N-80"))&&void 0!==N?N:y(p.n1.tone(80)),textColorTertiaryInverse:null!==(_=null!==(P=null===ee||void 0===ee?void 0:ee.textColorTertiaryInverse)&&void 0!==P?P:Z.get("N-60"))&&void 0!==_?_:y(p.n1.tone(60)),colorBackground:null!==(T=null!==(V=null===ee||void 0===ee?void 0:ee.colorBackground)&&void 0!==V?V:Z.get("N-95"))&&void 0!==T?T:y(p.n1.tone(95)),colorBackgroundFloating:null!==(w=null!==(A=null===ee||void 0===ee?void 0:ee.colorBackgroundFloating)&&void 0!==A?A:Z.get("N-98"))&&void 0!==w?w:y(p.n1.tone(98)),colorSurface:null!==(I=null!==(G=null===ee||void 0===ee?void 0:ee.colorSurface)&&void 0!==G?G:Z.get("N-98"))&&void 0!==I?I:y(p.n1.tone(98)),colorSurfaceVariant:null!==(j=null!==(B=null===ee||void 0===ee?void 0:ee.colorSurfaceVariant)&&void 0!==B?B:Z.get("N-90"))&&void 0!==j?j:y(p.n1.tone(90)),colorSurfaceHighlight:null!==(O=null!==(E=null===ee||void 0===ee?void 0:ee.colorSurfaceHighlight)&&void 0!==E?E:Z.get("N-100"))&&void 0!==O?O:y(p.n1.tone(100)),surfaceHeader:null!==(R=null!==(D=null===ee||void 0===ee?void 0:ee.surfaceHeader)&&void 0!==D?D:Z.get("N-90"))&&void 0!==R?R:y(p.n1.tone(90)),underSurface:null!==(H=null!==(L=null===ee||void 0===ee?void 0:ee.underSurface)&&void 0!==L?L:Z.get("N-0"))&&void 0!==H?H:y(p.n1.tone(0)),offState:null!==(W=null!==(U=null===ee||void 0===ee?void 0:ee.offState)&&void 0!==U?U:Z.get("N-20"))&&void 0!==W?W:y(p.n1.tone(20)),accentSurface:null!==(z=null!==(F=null===ee||void 0===ee?void 0:ee.accentSurface)&&void 0!==F?F:Z.get("NV-95"))&&void 0!==z?z:y(p.a2.tone(95)),textPrimaryOnAccent:null!==(q=null!==(M=null===ee||void 0===ee?void 0:ee.textPrimaryOnAccent)&&void 0!==M?M:Z.get("N-10"))&&void 0!==q?q:y(p.n1.tone(10)),textSecondaryOnAccent:null!==(J=null!==($=null===ee||void 0===ee?void 0:ee.textSecondaryOnAccent)&&void 0!==$?$:Z.get("NV-30"))&&void 0!==J?J:y(p.n2.tone(30)),volumeBackground:null!==(Q=null!==(K=null===ee||void 0===ee?void 0:ee.volumeBackground)&&void 0!==K?K:Z.get("N-25"))&&void 0!==Q?Q:y(p.n1.tone(25)),scrim:null!==(Y=null!==(X=null===ee||void 0===ee?void 0:ee.scrim)&&void 0!==X?X:Z.get("N-80"))&&void 0!==Y?Y:y(p.n1.tone(80))}}},{key:"androidDark",get:function get(){var e,n,t,r,d,o,i,a,u,c,s,f,l,g,m,b,h,x,v,S,k,C,N,P,_,V,T,A,w,G,I,B,j,E,O,D,R,L,H,U,W,F,z,M,q,$,J,K,Q,X,Y,Z=this.palettes,p=this.props.tones,ee=null===(e=this.props.overrides)||void 0===e?void 0:e.androidDark;return{colorAccentPrimary:null!==(t=null!==(n=null===ee||void 0===ee?void 0:ee.colorAccentPrimary)&&void 0!==n?n:Z.get("P-90"))&&void 0!==t?t:y(p.a1.tone(90)),colorAccentPrimaryVariant:null!==(d=null!==(r=null===ee||void 0===ee?void 0:ee.colorAccentPrimaryVariant)&&void 0!==r?r:Z.get("P-70"))&&void 0!==d?d:y(p.a1.tone(70)),colorAccentSecondary:null!==(i=null!==(o=null===ee||void 0===ee?void 0:ee.colorAccentSecondary)&&void 0!==o?o:Z.get("S-90"))&&void 0!==i?i:y(p.a2.tone(90)),colorAccentSecondaryVariant:null!==(u=null!==(a=null===ee||void 0===ee?void 0:ee.colorAccentSecondaryVariant)&&void 0!==a?a:Z.get("S-70"))&&void 0!==u?u:y(p.a2.tone(70)),colorAccentTertiary:null!==(s=null!==(c=null===ee||void 0===ee?void 0:ee.colorAccentTertiary)&&void 0!==c?c:Z.get("T-90"))&&void 0!==s?s:y(p.a3.tone(90)),colorAccentTertiaryVariant:null!==(l=null!==(f=null===ee||void 0===ee?void 0:ee.colorAccentTertiaryVariant)&&void 0!==f?f:Z.get("T-70"))&&void 0!==l?l:y(p.a3.tone(70)),textColorPrimary:null!==(m=null!==(g=null===ee||void 0===ee?void 0:ee.textColorPrimary)&&void 0!==g?g:Z.get("N-95"))&&void 0!==m?m:y(p.n1.tone(95)),textColorSecondary:null!==(h=null!==(b=null===ee||void 0===ee?void 0:ee.textColorSecondary)&&void 0!==b?b:Z.get("NV-80"))&&void 0!==h?h:y(p.n2.tone(80)),textColorTertiary:null!==(v=null!==(x=null===ee||void 0===ee?void 0:ee.textColorTertiary)&&void 0!==x?x:Z.get("NV-60"))&&void 0!==v?v:y(p.n2.tone(60)),textColorPrimaryInverse:null!==(k=null!==(S=null===ee||void 0===ee?void 0:ee.textColorPrimaryInverse)&&void 0!==S?S:Z.get("N-10"))&&void 0!==k?k:y(p.n1.tone(10)),textColorSecondaryInverse:null!==(N=null!==(C=null===ee||void 0===ee?void 0:ee.textColorSecondaryInverse)&&void 0!==C?C:Z.get("N-30"))&&void 0!==N?N:y(p.n1.tone(30)),textColorTertiaryInverse:null!==(_=null!==(P=null===ee||void 0===ee?void 0:ee.textColorTertiaryInverse)&&void 0!==P?P:Z.get("N-50"))&&void 0!==_?_:y(p.n1.tone(50)),colorBackground:null!==(T=null!==(V=null===ee||void 0===ee?void 0:ee.colorBackground)&&void 0!==V?V:Z.get("N-10"))&&void 0!==T?T:y(p.n1.tone(10)),colorBackgroundFloating:null!==(w=null!==(A=null===ee||void 0===ee?void 0:ee.colorBackgroundFloating)&&void 0!==A?A:Z.get("N-10"))&&void 0!==w?w:y(p.n1.tone(10)),colorSurface:null!==(I=null!==(G=null===ee||void 0===ee?void 0:ee.colorSurface)&&void 0!==G?G:Z.get("N-20"))&&void 0!==I?I:y(p.n1.tone(20)),colorSurfaceVariant:null!==(j=null!==(B=null===ee||void 0===ee?void 0:ee.colorSurfaceVariant)&&void 0!==B?B:Z.get("N-30"))&&void 0!==j?j:y(p.n1.tone(30)),colorSurfaceHighlight:null!==(O=null!==(E=null===ee||void 0===ee?void 0:ee.colorSurfaceHighlight)&&void 0!==E?E:Z.get("N-35"))&&void 0!==O?O:y(p.n1.tone(35)),surfaceHeader:null!==(R=null!==(D=null===ee||void 0===ee?void 0:ee.surfaceHeader)&&void 0!==D?D:Z.get("N-30"))&&void 0!==R?R:y(p.n1.tone(30)),underSurface:null!==(H=null!==(L=null===ee||void 0===ee?void 0:ee.underSurface)&&void 0!==L?L:Z.get("N-0"))&&void 0!==H?H:y(p.n1.tone(0)),offState:null!==(W=null!==(U=null===ee||void 0===ee?void 0:ee.offState)&&void 0!==U?U:Z.get("N-20"))&&void 0!==W?W:y(p.n1.tone(20)),accentSurface:null!==(z=null!==(F=null===ee||void 0===ee?void 0:ee.accentSurface)&&void 0!==F?F:Z.get("NV-95"))&&void 0!==z?z:y(p.a2.tone(95)),textPrimaryOnAccent:null!==(q=null!==(M=null===ee||void 0===ee?void 0:ee.textPrimaryOnAccent)&&void 0!==M?M:Z.get("N-10"))&&void 0!==q?q:y(p.n1.tone(10)),textSecondaryOnAccent:null!==(J=null!==($=null===ee||void 0===ee?void 0:ee.textSecondaryOnAccent)&&void 0!==$?$:Z.get("NV-30"))&&void 0!==J?J:y(p.n2.tone(30)),volumeBackground:null!==(Q=null!==(K=null===ee||void 0===ee?void 0:ee.volumeBackground)&&void 0!==K?K:Z.get("N-25"))&&void 0!==Q?Q:y(p.n1.tone(25)),scrim:null!==(Y=null!==(X=null===ee||void 0===ee?void 0:ee.scrim)&&void 0!==X?X:Z.get("N-80"))&&void 0!==Y?Y:y(p.n1.tone(80))}}},{key:"tonalGroups",get:function get(){return Object.assign({primary:this.primaryGroup,secondary:this.secondaryGroup,tertiary:this.tertiaryGroup,neutral:this.neutralGroup,neutralVariant:this.neutralVariantGroup,error:this.errorGroup},this.props.overrides.tonalGroups)}},{key:"primaryGroup",get:function get(){return h(this,"primary",this.props.tones.a1)}},{key:"secondaryGroup",get:function get(){return h(this,"secondary",this.props.tones.a2)}},{key:"tertiaryGroup",get:function get(){return h(this,"tertiary",this.props.tones.a3)}},{key:"neutralGroup",get:function get(){return h(this,"neutral",this.props.tones.n1)}},{key:"neutralVariantGroup",get:function get(){return h(this,"neutralVariant",this.props.tones.n2)}},{key:"errorGroup",get:function get(){return h(this,"error",this.props.tones.error)}},{key:"primary",get:function get(){return x("P",this.primaryGroup)}},{key:"secondary",get:function get(){return x("S",this.secondaryGroup)}},{key:"tertiary",get:function get(){return x("T",this.tertiaryGroup)}},{key:"neutral",get:function get(){return x("N",this.neutralGroup)}},{key:"neutralVariant",get:function get(){return x("NV",this.neutralVariantGroup)}},{key:"error",get:function get(){return x("E",this.errorGroup)}},{key:"palettes",get:function get(){var e=[];return e=e.concat(Array.from(this.primary.entries())),e=e.concat(Array.from(this.secondary.entries())),e=e.concat(Array.from(this.tertiary.entries())),e=e.concat(Array.from(this.neutral.entries())),e=e.concat(Array.from(this.neutralVariant.entries())),e=e.concat(Array.from(this.error.entries())),new Map(e)}},{key:"seedValue",get:function get(){return this.props.seed}},{key:"source",get:function get(){var e,n,t,r,d,o,i=this.palettes,a=this.props.overrides.source;return Object.assign(Object.assign({},a),{seed:this.seedValue,imageUrl:this.imageUrl,primary:null!==(e=null===a||void 0===a?void 0:a.primary)&&void 0!==e?e:__getPrimaryTonal(this,"P",i),secondary:null!==(n=null===a||void 0===a?void 0:a.secondary)&&void 0!==n?n:__getPrimaryTonal(this,"S",i),tertiary:null!==(t=null===a||void 0===a?void 0:a.tertiary)&&void 0!==t?t:__getPrimaryTonal(this,"T",i),neutral:null!==(r=null===a||void 0===a?void 0:a.neutral)&&void 0!==r?r:__getPrimaryTonal(this,"N",i),neutralVariant:null!==(d=null===a||void 0===a?void 0:a.neutralVariant)&&void 0!==d?d:__getPrimaryTonal(this,"NV",i),error:null!==(o=null===a||void 0===a?void 0:a.error)&&void 0!==o?o:__getPrimaryTonal(this,"E",i)})}},{key:"customColors",get:function get(){var e,n;return _toConsumableArray(null!==(n=null===(e=this.props.overrides)||void 0===e?void 0:e.customColors)&&void 0!==n?n:[])}},{key:"save",value:function save(){var e={seed:this.seedValue,baseline:this.props.isBaseline,imageUrl:this.imageUrl,customColors:this.customColors,light:this.light,dark:this.dark,androidLight:q.enableAndroid?this.androidLight:void 0,androidDark:q.enableAndroid?this.androidDark:void 0,primary:this.primaryGroup,secondary:this.secondaryGroup,tertiary:this.tertiaryGroup,neutral:this.neutralGroup,neutralVariant:this.neutralVariantGroup,error:this.errorGroup,styles:this.styles,source:this.source};return console.debug("saved theme",e),e}}]),e}(),k=/*#__PURE__*/function(e){function n(){return _classCallCheck(this,n),t.apply(this,arguments)}_inherits(n,e);var t=_createSuper(n);return _createClass(n)}(S),C=/*#__PURE__*/function(){function e(n,t){_classCallCheck(this,e),this.hue=n,this.chroma=t,this.cache=new Map}return _createClass(e,[{key:"tone",value:function tone(e){var n=this.cache.get(e);return void 0===n&&(n=new j(this.hue,this.chroma,e).toInt(),this.cache.set(e,n)),n}}]),e}(),N=function(e){return .0031308>=e?12.92*e:1.055*m(e,1/2.4)-.055},P=function(e){return(-16777216|(255&e[0])<<16|(255&e[1])<<8|255&e[2])>>>0},_=function(e,n,t){return e/=100,n/=100,t/=100,P([g(A(255,255*N(3.2406*e+-1.5372*n+-.4986*t))),g(A(255,255*N(-.9689*e+1.8758*n+.0415*t))),g(A(255,255*N(.0557*e+-.204*n+1.057*t)))])},V=function(e,n,t){var r=t*l/180,d=1/.0228*s(1+.0228*n*L.fLRoot);return new E(t,n,e,4/L.c*u(e/100)*(L.aw+4)*L.fLRoot,50*u(n/u(e/100)*L.c/(L.aw+4)),(1+.007*100)*e/(1+.007*e),d*i(r),d*o(r))},T=function(e){var r=m((0===e.chroma||0===e.j?0:e.chroma/u(e.j/100))/m(1.64-m(.29,L.n),.73),1/.9),t=e.hue*l/180,c=L.aw*m(e.j/100,1/L.c/L.z)/L.nbb,s=o(t),f=i(t),g=23*(c+.305)*r/(5.75*(5E4/13*(i(t+2)+3.8))*L.nc*L.ncb+11*r*f+108*r*s),p=g*f,a=g*s,y=(460*c+451*p+288*a)/1403,b=(460*c-891*p-261*a)/1403,h=(460*c-220*p-6300*a)/1403,x=100/L.fl*O(y)*m(n(0,27.13*d(y)/(400-d(y))),1/.42)/L.rgbD[0],v=100/L.fl*O(b)*m(n(0,27.13*d(b)/(400-d(b))),1/.42)/L.rgbD[1],S=100/L.fl*O(h)*m(n(0,27.13*d(h)/(400-d(h))),1/.42)/L.rgbD[2];return _(1.86206786*x-1.01125463*v+.14918677*S,.38752654*x+.62144744*v-.00897398*S,-.0158415*x-.03412294*v+1.04996444*S)},A=function(t,r){return e(n(r,0),t)},w=function(e){return 0>e?e%360+360:360<=e?e%360:e},G=function(e,n,t){if(1>n||0>=g(t)||100<=g(t))return v(t);e=w(e);for(var m=n,p=n,y=0,b=!0,h=null;.4<=d(y-m);){for(var r=e,o=p,i=t,a=0,u=100,c=void 0,s=1E3,f=1E3,l=null;.01<d(a-u);){c=a+(u-a)/2;var x=T(V(c,o,r)),S=B(x),k=d(i-S);if(.2>k){var C=U(x),N=C.distance(V(C.j,C.chroma,r));1>=N&&N<=f&&(s=k,f=N,l=C)}if(0===s&&0===f)break;S<i?a=c:u=c}var P=l;if(b){if(null!=P)return T(P);b=!1}else null===P?m=p:(h=P,y=p);p=y+(m-y)/2}return null===answer?v(t):T(answer)},I=function(e,n){var t=U(n),r=B(n);e.internalHue=t.hue,e.internalChroma=t.chroma,e.internalTone=r},B=function(e){var n=21.26*H(((16711680&e)>>16)/255)+71.52*H(((65280&e)>>8)/255)+7.22*H((255&e)/255);return n/=100,n<=216/24389?24389/27*n:116*m(n,1/3)-16},j=/*#__PURE__*/function(){function e(n,t,r){_classCallCheck(this,e),this.internalHue=n,this.internalChroma=t,this.internalTone=r,I(this,this.toInt())}return _createClass(e,[{key:"toInt",value:function toInt(){return G(w(this.internalHue),this.internalChroma,A(100,this.internalTone))}},{key:"hue",get:function get(){return this.internalHue},set:function set(e){I(this,G(w(w(e)),this.internalChroma,A(100,this.internalTone)))}},{key:"chroma",get:function get(){return this.internalChroma},set:function set(e){I(this,G(w(this.internalHue),e,A(100,this.internalTone)))}},{key:"tone",get:function get(){return this.internalTone},set:function set(e){I(this,G(w(this.internalHue),this.internalChroma,A(100,e)))}}]),e}(),E=/*#__PURE__*/function(){function e(n,t,r,d,o,i,a,u){_classCallCheck(this,e),this.hue=n,this.chroma=t,this.j=r,this.q=d,this.s=o,this.jstar=i,this.astar=a,this.bstar=u}return _createClass(e,[{key:"distance",value:function distance(e){var n=this.jstar-e.jstar,t=this.astar-e.astar,r=this.bstar-e.bstar;return 1.41*m(u(n*n+t*t+r*r),.63)}}]),e}(),O=function(e){return 0>e?-1:0===e?0:1},D=/*#__PURE__*/_createClass(function s(e,n,t,r,d,o,i,a,u,c){_classCallCheck(this,s),this.n=e,this.aw=n,this.nbb=t,this.ncb=r,this.c=d,this.nc=o,this.rgbD=i,this.fl=a,this.fLRoot=u,this.z=c}),R=[95.047,100,108.883],L=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:R,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100*(200/l)*m(66/116,3)/100,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:50,o=3<arguments.length&&void 0!==arguments[3]?arguments[3]:2,i=!!(4<arguments.length&&void 0!==arguments[4])&&arguments[4],a=.401288*e[0]+.650173*e[1]+-.051461*e[2],c=-.250268*e[0]+1.204414*e[1]+.045854*e[2],s=-.002079*e[0]+.048952*e[1]+.953127*e[2],g=.8+o/10;if(.9<=g)var f=10*(g-.9),p=.59*(1-f)+.69*f;else{var y=10*(g-.8);p=.525*(1-y)+.59*y}var b=i?1:g*(1-1/3.6*Math.exp((-t-42)/92));b=1<b?1:0>b?0:b;var h=[100/a*b+1-b,100/c*b+1-b,100/s*b+1-b],x=1/(5*t+1),v=x*x*x*x,S=1-v,k=v*t+.1*S*S*Math.cbrt(5*t),C=(8<r?100*m((r+16)/116,3):100*(r/(24389/27)))/e[1],n=.725/m(C,.2),N=[m(k*h[0]*a/100,.42),m(k*h[1]*c/100,.42),m(k*h[2]*s/100,.42)],P=[400*N[0]/(N[0]+27.13),400*N[1]/(N[1]+27.13),400*N[2]/(N[2]+27.13)];return new D(C,(2*P[0]+P[1]+.05*P[2])*n,n,n,p,g,h,k,m(k,.25),1.48+u(C))}(),H=function(e){return .04045>=e?e/12.92:m((e+.055)/1.055,2.4)},U=function(e){var n=100*H(((16711680&e)>>16)/255),t=100*H(((65280&e)>>8)/255),r=100*H((255&e)/255),f=.41233895*n+.35762064*t+.18051042*r,g=.2126*n+.7152*t+.0722*r,p=.01932141*n+.11916382*t+.95034478*r,y=L.rgbD[0]*(.401288*f+.650173*g-.051461*p),h=L.rgbD[1]*(-.250268*f+1.204414*g+.045854*p),x=L.rgbD[2]*(-.002079*f+.048952*g+.953127*p),v=m(L.fl*d(y)/100,.42),S=m(L.fl*d(h)/100,.42),k=m(L.fl*d(x)/100,.42),C=400*O(y)*v/(v+27.13),N=400*O(h)*S/(S+27.13),P=400*O(x)*k/(k+27.13),_=(11*C+-12*N+P)/11,a=(C+N-2*P)/9,b=180*Math.atan2(a,_)/l,V=0>b?b+360:360<=b?b-360:b,T=V*l/180,A=100*m((40*C+20*N+P)/20*L.nbb/L.aw,L.c*L.z),w=m(.25*(5E4/13)*(i((20.14>V?V+360:V)*l/180+2)+3.8)*L.nc*L.ncb*u(_*_+a*a)/((20*C+20*N+21*P)/20+.305),.9)*m(1.64-m(.29,L.n),.73),G=w*u(A/100),c=1/.0228*s(1+.0228*G*L.fLRoot);return new E(V,G,A,4/L.c*u(A/100)*(L.aw+4)*L.fLRoot,50*u(w*L.c/(L.aw+4)),(1+.007*100)*A/(1+.007*A),c*i(T),c*o(T))},W=function(e){var n=U(e);return new j(n.hue,n.chroma,B(e))},F=function(e){e=e.replace("#","");var n=3===e.length,t=6===e.length,d=8===e.length;if(!n&&!t&&!d)throw Error("unexpected hex "+e);var o=0,i=0,a=0;return n?(o=parseInt(e.slice(0,1).repeat(2),16),i=parseInt(e.slice(1,2).repeat(2),16),a=parseInt(e.slice(2,3).repeat(2),16)):t?(o=parseInt(e.slice(0,2),16),i=parseInt(e.slice(2,4),16),a=parseInt(e.slice(4,6),16)):d&&(o=parseInt(e.slice(2,4),16),i=parseInt(e.slice(4,6),16),a=parseInt(e.slice(6,8),16)),(-16777216|(255&o)<<16|(255&i)<<8|255&a)>>>0},z=/*#__PURE__*/_createClass(function t(e){_classCallCheck(this,t);var r=W(e),d=r.hue;this.a1=new C(d,n(48,r.chroma)),this.a2=new C(d,16),this.a3=new C(d+60,24),this.n1=new C(d,4),this.n2=new C(d,8),this.error=new C(25,84)}),M=/*#__PURE__*/function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"internal",get:function get(){return!1}},{key:"is3p",get:function get(){return!this.internal}},{key:"is1p",get:function get(){return this.internal}},{key:"enableDsp",get:function get(){return!this.is1p}},{key:"enableAndroid",get:function get(){return this.is1p}},{key:"enableWebExport",get:function get(){return this.is3p}},{key:"enableExtendedColors",get:function get(){return!0}},{key:"enableColorShift",get:function get(){return this.is1p}}]),e}(),q=new M,$=q.enableDsp,J=q.enableAndroid,K=q.enableWebExport,Q=q.enableColorShift,X=function(e){var n=q.is3p;console.debug("theme adapter from color");var t=new z(F(e)),r=new k({tones:t,seed:e,is3p:n,overrides:{},blend:!1,isBaseline:!1});return{light:r.light,dark:r.dark}},Y=function(e){var n,t=[((16711680&e)>>16).toString(16),((65280&e)>>8).toString(16),(255&e).toString(16)],r=_createForOfIteratorHelper(t.entries());try{for(r.s();!(n=r.n()).done;){var d=_slicedToArray(n.value,2),o=d[0],i=d[1],a=i;1===a.length&&(t[o]="0"+a)}}catch(e){r.e(e)}finally{r.f()}return"#"+t.join("")},Z=function(e,n){var t,r=[],d=_createForOfIteratorHelper(n.entries());try{for(d.s();!(t=d.n()).done;){var o=_slicedToArray(t.value,2),i=o[0],a=o[1],u=i,c=e.get(u);15<=a.chroma&&10<=B(u)&&.01<=c&&r.push(u)}}catch(e){d.e(e)}finally{d.f()}return r},ee=function(e){var n,t=0,r=_createForOfIteratorHelper(e.values());try{for(r.s();!(n=r.n()).done;){var Y=n.value;t+=Y}}catch(e){r.e(e)}finally{r.f()}var o,a=new Map,u=new Map,c=Array(360).fill(0),s=_createForOfIteratorHelper(e.entries());try{for(s.s();!(o=s.n()).done;){var f=_slicedToArray(o.value,2),l=f[0],m=f[1],p=l,y=m/t;a.set(p,y);var ee=U(p);u.set(p,ee),c[g(ee.hue)]+=y}}catch(e){s.e(e)}finally{s.f()}var b,h=new Map,x=_createForOfIteratorHelper(u.entries());try{for(x.s();!(b=x.n()).done;){for(var v=_slicedToArray(b.value,2),S=v[0],k=v[1],C=S,N=g(k.hue),P=0,_=N-15;_<N+15;_++)P+=c[w(_)];h.set(C,P)}}catch(e){x.e(e)}finally{x.f()}var V,T=new Map,A=_createForOfIteratorHelper(u.entries());try{for(A.s();!(V=A.n()).done;){var G=_slicedToArray(V.value,2),I=G[0],B=G[1],j=I,E=B,O=70*h.get(j);T.set(j,O+(E.chroma-48)*(48>E.chroma?.1:.3))}}catch(e){A.e(e)}finally{A.f()}var D,R=Z(h,u),L=new Map,H=_createForOfIteratorHelper(R);try{for(H.s();!(D=H.n()).done;){var W,F=D.value,z=!1,M=u.get(F).hue,q=_createForOfIteratorHelper(L);try{for(q.s();!(W=q.n()).done;){var $=_slicedToArray(W.value,1),J=$[0],K=u.get(J).hue;if(15>180-d(d(M-K)-180)){z=!0;break}}}catch(e){q.e(e)}finally{q.f()}z||L.set(F,T.get(F))}}catch(e){H.e(e)}finally{H.f()}var Q=Array.from(L.entries());Q.sort(function(e,n){return n[1]-e[1]});var X=Q.map(function(e){return e[0]});return 0===X.length&&X.push(4282549748),X},ne=/*#__PURE__*/_createClass(function e(){_classCallCheck(this,e),this.index=this.distance=-1}),te=function(n){var t,r=216/24389,e=24389/27,d=100*H(((16711680&n)>>16)/255),o=100*H(((65280&n)>>8)/255),i=100*H((255&n)/255),a=(.2126*d+.7152*o+.0722*i)/R[1];t=a>r?m(a,1/3):(e*a+16)/116;var u=(.41233895*d+.35762064*o+.18051042*i)/R[0],c=(.01932141*d+.11916382*o+.95034478*i)/R[2];return[116*t-16,500*((u>r?m(u,1/3):(e*u+16)/116)-t),200*(t-(c>r?m(c,1/3):(e*c+16)/116))]},re=/*#__PURE__*/function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"toInt",value:function toInt(n){var t=n[0],r=216/24389,e=24389/27,d=(t+16)/116,o=n[1]/500+d,i=d-n[2]/200,a=o*o*o,u=i*i*i,c=[(a>r?a:(116*o-16)/e)*R[0],(8<t?d*d*d:t/e)*R[1],(u>r?u:(116*i-16)/e)*R[2]];return _(c[0],c[1],c[2])}},{key:"distance",value:function distance(e,n){var t=e[0]-n[0],r=e[1]-n[1],d=e[2]-n[2];return t*t+r*r+d*d}}]),e}(),de=/*#__PURE__*/_createClass(function n(e){_classCallCheck(this,n),this.resultCount=e}),oe=function(e,n){var t=e.volume(n,e.momentsR),r=e.volume(n,e.momentsG),d=e.volume(n,e.momentsB),o=e.moments[fe(n.r1,n.g1,n.b1)]-e.moments[fe(n.r1,n.g1,n.b0)]-e.moments[fe(n.r1,n.g0,n.b1)]+e.moments[fe(n.r1,n.g0,n.b0)]-e.moments[fe(n.r0,n.g1,n.b1)]+e.moments[fe(n.r0,n.g1,n.b0)]+e.moments[fe(n.r0,n.g0,n.b1)]-e.moments[fe(n.r0,n.g0,n.b0)],i=e.volume(n,e.weights);return o-(t*t+r*r+d*d)/i},ie=/*#__PURE__*/_createClass(function t(e,n){_classCallCheck(this,t),this.cutLocation=e,this.maximum=n}),ae=function(e,n,t,r,d,o,a,u,c){for(var s,f,l,g,m=e.bottom(n,t,e.momentsR),p=e.bottom(n,t,e.momentsG),y=e.bottom(n,t,e.momentsB),b=e.bottom(n,t,e.weights),h=0,x=-1,v=r;v<d;v++)if(s=m+e.top(n,t,v,e.momentsR),f=p+e.top(n,t,v,e.momentsG),l=y+e.top(n,t,v,e.momentsB),(g=b+e.top(n,t,v,e.weights),0!==g)){var S=s*s+f*f+l*l,k=1*g,C=S/k;s=o-s,f=a-f,l=u-l,g=c-g,0!==g&&(S=s*s+f*f+l*l,k=1*g,C+=S/k,C>h&&(h=C,x=v))}return new ie(x,h)},ue=function(e,n,t){var r,d=e.volume(n,e.momentsR),o=e.volume(n,e.momentsG),i=e.volume(n,e.momentsB),a=e.volume(n,e.weights),u=ae(e,n,"red",n.r0+1,n.r1,d,o,i,a),c=ae(e,n,"green",n.g0+1,n.g1,d,o,i,a),s=ae(e,n,"blue",n.b0+1,n.b1,d,o,i,a),f=u.maximum,l=c.maximum,g=s.maximum;if(f>=l&&f>=g){if(0>u.cutLocation)return!1;r="red"}else r=l>=f&&l>=g?"green":"blue";switch(t.r1=n.r1,t.g1=n.g1,t.b1=n.b1,r){case"red":n.r1=u.cutLocation,t.r0=n.r1,t.g0=n.g0,t.b0=n.b0;break;case"green":n.g1=c.cutLocation,t.r0=n.r0,t.g0=n.g1,t.b0=n.b0;break;case"blue":n.b1=s.cutLocation,t.r0=n.r0,t.g0=n.g0,t.b0=n.b1;break;default:throw Error("unexpected direction "+r);}return n.vol=(n.r1-n.r0)*(n.g1-n.g0)*(n.b1-n.b0),t.vol=(t.r1-t.r0)*(t.g1-t.g0)*(t.b1-t.b0),!0},ce=/*#__PURE__*/_createClass(function e(){_classCallCheck(this,e),this.vol=this.b1=this.b0=this.g1=this.g0=this.r1=this.r0=0}),se=function(e){e.cubes=Array.from({length:256}).fill(0).map(function(){return new ce});var n=Array.from({length:256}).fill(0);e.cubes[0].r0=0,e.cubes[0].g0=0,e.cubes[0].b0=0,e.cubes[0].r1=32,e.cubes[0].g1=32,e.cubes[0].b1=32;for(var t=256,r=0,d=1;256>d;d++){ue(e,e.cubes[r],e.cubes[d])?(n[r]=1<e.cubes[r].vol?oe(e,e.cubes[r]):0,n[d]=1<e.cubes[d].vol?oe(e,e.cubes[d]):0):(n[r]=0,d--),r=0;for(var o=n[0],a=1;a<=d;a++)n[a]>o&&(o=n[a],r=a);if(0>=o){t=d+1;break}}return new de(t)},fe=function(e,n,t){return(e<<10)+(e<<6)+e+(n<<5)+n+t},le=/*#__PURE__*/function(){function e(){_classCallCheck(this,e),this.weights=[],this.momentsR=[],this.momentsG=[],this.momentsB=[],this.moments=[],this.cubes=[]}return _createClass(e,[{key:"volume",value:function volume(e,n){return n[fe(e.r1,e.g1,e.b1)]-n[fe(e.r1,e.g1,e.b0)]-n[fe(e.r1,e.g0,e.b1)]+n[fe(e.r1,e.g0,e.b0)]-n[fe(e.r0,e.g1,e.b1)]+n[fe(e.r0,e.g1,e.b0)]+n[fe(e.r0,e.g0,e.b1)]-n[fe(e.r0,e.g0,e.b0)]}},{key:"bottom",value:function bottom(e,n,t){switch(n){case"red":return-t[fe(e.r0,e.g1,e.b1)]+t[fe(e.r0,e.g1,e.b0)]+t[fe(e.r0,e.g0,e.b1)]-t[fe(e.r0,e.g0,e.b0)];case"green":return-t[fe(e.r1,e.g0,e.b1)]+t[fe(e.r1,e.g0,e.b0)]+t[fe(e.r0,e.g0,e.b1)]-t[fe(e.r0,e.g0,e.b0)];case"blue":return-t[fe(e.r1,e.g1,e.b0)]+t[fe(e.r1,e.g0,e.b0)]+t[fe(e.r0,e.g1,e.b0)]-t[fe(e.r0,e.g0,e.b0)];default:throw Error("unexpected direction $direction");}}},{key:"top",value:function top(e,n,t,r){switch(n){case"red":return r[fe(t,e.g1,e.b1)]-r[fe(t,e.g1,e.b0)]-r[fe(t,e.g0,e.b1)]+r[fe(t,e.g0,e.b0)];case"green":return r[fe(e.r1,t,e.b1)]-r[fe(e.r1,t,e.b0)]-r[fe(e.r0,t,e.b1)]+r[fe(e.r0,t,e.b0)];case"blue":return r[fe(e.r1,e.g1,t)]-r[fe(e.r1,e.g0,t)]-r[fe(e.r0,e.g1,t)]+r[fe(e.r0,e.g0,t)];default:throw Error("unexpected direction $direction");}}}]),e}(),ge=function(e){if(!(e instanceof pe))n=__unwrap(e);else if(e instanceof ye)var n=e.privateDoNotAccessOrElseWrappedUrl;else throw Error("Unexpected type when unwrapping SafeUrl");return n},me={},pe=/*#__PURE__*/_createClass(function e(){_classCallCheck(this,e)}),ye=/*#__PURE__*/function(e){function n(e){var r;if(_classCallCheck(this,n),r=t.call(this),me!==me)throw Error("Bad secret");return r.privateDoNotAccessOrElseWrappedUrl=e,r}_inherits(n,e);var t=_createSuper(n);return _createClass(n,[{key:"toString",value:function toString(){return this.privateDoNotAccessOrElseWrappedUrl}}]),n}(pe),be=function(e){var n=e.type.match(/^([^;]+)(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i);if(2!==(null===n||void 0===n?void 0:n.length)||!(/^image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)$/i.test(n[1])||/^video\/(?:mpeg|mp4|ogg|webm|x-matroska|quicktime|x-ms-wmv)$/i.test(n[1])||/^audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)$/i.test(n[1])))throw Error("unsafe blob MIME type: ".concat(e.type));return new ye(URL.createObjectURL(e))},he=/*#__PURE__*/function(){var e=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function n(e){var t,r,d;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=be(new Blob([e],{type:"image/png"})),n.next=3,new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=function(){n()},r.src=ge(t)});case 3:return r=n.sent,d=document.createElement("canvas").getContext("2d"),d.canvas.width=112,d.canvas.height=112,d.drawImage(r,0,0,r.width,r.height,0,0,d.canvas.width,d.canvas.height),n.abrupt("return",d.getImageData(0,0,r.width,r.height));case 9:case"end":return n.stop();}},n)}));return function(){return e.apply(this,arguments)}}(),xe=/*#__PURE__*/function(){var e=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function n(e){var t,r,d,o;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=new Uint8Array(e),n.next=3,he(t);case 3:for(r=n.sent,d=[],o=0;o<r.data.length;o+=4)255>r.data[o+3]||d.push(P([r.data[o],r.data[o+1],r.data[o+2]]));return n.abrupt("return",d);case 7:case"end":return n.stop();}},n)}));return function(){return e.apply(this,arguments)}}(),ve=/*#__PURE__*/function(){var n=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function t(n){var o,a,c,s,f,l,m,p,y,h,x,v,S,k,C,N,P,_,V,T,A,w,G,I,B,E,O,D,R,L,H,U,W,F,z,M,q,$,J,K,Q,X,Z,de,oe,ie,ae,ue,ce,ge,me,pe,ye,be,he,ve,Se,ke,Ce,Ne,Pe,_e,Ve,Te,Ae,we,Ge,Ie,Be,je,Ee,Oe,De,Re,Le,He,Ue,We,Fe,ze,Me,qe,$e,Je,Ke,Qe,Xe,Ye,Ze,en,nn,tn,rn,dn,on,an,un;return regeneratorRuntime.wrap(function(t){for(var r=Math.floor;;)switch(t.prev=t.next){case 0:if("string"!=typeof n){t.next=8;break}return t.next=3,fetch(n);case 3:return t.next=5,t.sent.arrayBuffer();case 5:t.t0=t.sent,t.next=9;break;case 8:t.t0=n;case 9:return o=t.t0,t.next=12,xe(o);case 12:for(a=t.sent,c=new le,c.weights=Array.from({length:35937}).fill(0),c.momentsR=Array.from({length:35937}).fill(0),c.momentsG=Array.from({length:35937}).fill(0),c.momentsB=Array.from({length:35937}).fill(0),c.moments=Array.from({length:35937}).fill(0),l=new Map,m=0;m<a.length;m++)p=a[m],255>(4278190080&p)>>24>>>0||l.set(p,(null!==(f=l.get(p))&&void 0!==f?f:0)+1);y=_createForOfIteratorHelper(l.entries());try{for(y.s();!(h=y.n()).done;)x=_slicedToArray(h.value,2),v=x[0],S=x[1],k=v,C=S,N=(16711680&k)>>16,P=(65280&k)>>8,_=255&k,V=fe((N>>3)+1,(P>>3)+1,(_>>3)+1),c.weights[V]=(null!==(s=c.weights[V])&&void 0!==s?s:0)+C,c.momentsR[V]+=C*N,c.momentsG[V]+=C*P,c.momentsB[V]+=C*_,c.moments[V]+=C*(N*N+P*P+_*_)}catch(e){y.e(e)}finally{y.f()}for(T=1;33>T;T++)for(A=Array.from({length:33}).fill(0),w=Array.from({length:33}).fill(0),G=Array.from({length:33}).fill(0),I=Array.from({length:33}).fill(0),B=Array.from({length:33}).fill(0),E=1;33>E;E++)for(O=0,D=0,R=0,L=0,H=0,U=1;33>U;U++)W=fe(T,E,U),O+=c.weights[W],D+=c.momentsR[W],R+=c.momentsG[W],L+=c.momentsB[W],H+=c.moments[W],A[U]+=O,w[U]+=D,G[U]+=R,I[U]+=L,B[U]+=H,F=fe(T-1,E,U),c.weights[W]=c.weights[F]+A[U],c.momentsR[W]=c.momentsR[F]+w[U],c.momentsG[W]=c.momentsG[F]+G[U],c.momentsB[W]=c.momentsB[F]+I[U],c.moments[W]=c.moments[F]+B[U];for(z=se(c).resultCount,M=[],q=0;q<z;++q)$=c.cubes[q],J=c.volume($,c.weights),0<J&&(K=g(c.volume($,c.momentsR)/J),Q=g(c.volume($,c.momentsG)/J),X=g(c.volume($,c.momentsB)/J),M.push(-16777216|(255&K)<<16|(255&Q)<<8|255&X));for(Z=new Map,de=[],oe=[],ie=new re,ae=0,ue=0;ue<a.length;ue++)ce=a[ue],ge=Z.get(ce),void 0===ge?(ae++,de.push(te(ce)),oe.push(ce),Z.set(ce,1)):Z.set(ce,ge+1);for(me=[],pe=0;pe<ae;pe++)ye=Z.get(oe[pe]),void 0!==ye&&(me[pe]=ye);for(be=e(256,ae),0<M.length&&(be=e(be,M.length)),he=[],ve=0;ve<M.length;ve++)he.push(te(M[ve]));if(Se=be-he.length,0===M.length&&0<Se)for(ke=0;ke<Se;ke++)he.push([100*Math.random(),201*Math.random()+-100,201*Math.random()+-100]);for(Ce=[],Ne=0;Ne<ae;Ne++)Ce.push(r(Math.random()*be));for(Pe=[],_e=0;_e<be;_e++)for(Pe.push([]),Ve=0;Ve<be;Ve++)Pe[_e].push(0);for(Te=[],Ae=0;Ae<be;Ae++)for(Te.push([]),we=0;we<be;we++)Te[Ae].push(new ne);for(Ge=[],Ie=0;Ie<be;Ie++)Ge.push(0);Be=0;case 47:if(!(10>Be)){t.next=76;break}for(je=0;je<be;je++){for(Ee=je+1;Ee<be;Ee++)Oe=ie.distance(he[je],he[Ee]),Te[Ee][je].distance=Oe,Te[Ee][je].index=je,Te[je][Ee].distance=Oe,Te[je][Ee].index=Ee;for(Te[je].sort(),De=0;De<be;De++)Pe[je][De]=Te[je][De].index}Re=0,Le=0;case 51:if(!(Le<ae)){t.next=67;break}He=de[Le],Ue=Ce[Le],We=ie.distance(He,he[Ue]),Fe=We,ze=-1,Me=0;case 55:if(!(Me<be)){t.next=63;break}if(!(Te[Ue][Me].distance>=4*We)){t.next=58;break}return t.abrupt("continue",60);case 58:qe=ie.distance(He,he[Me]),qe<Fe&&(Fe=qe,ze=Me);case 60:Me++,t.next=55;break;case 63:-1!==ze&&3<d(u(Fe)-u(We))&&(Re++,Ce[Le]=ze);case 64:Le++,t.next=51;break;case 67:if(0!==Re||0===Be){t.next=69;break}return t.abrupt("break",76);case 69:for($e=Array(be).fill(0),Je=Array(be).fill(0),Ke=Array(be).fill(0),Qe=0;Qe<be;Qe++)Ge[Qe]=0;for(Xe=0;Xe<ae;Xe++)Ye=Ce[Xe],Ze=de[Xe],en=me[Xe],Ge[Ye]+=en,$e[Ye]+=Ze[0]*en,Je[Ye]+=Ze[1]*en,Ke[Ye]+=Ze[2]*en;for(nn=0;nn<be;nn++)tn=Ge[nn],he[nn]=0===tn?[0,0,0]:[$e[nn]/tn,Je[nn]/tn,Ke[nn]/tn];case 73:Be++,t.next=47;break;case 76:rn=new Map,dn=0;case 78:if(!(dn<be)){t.next=87;break}if(on=Ge[dn],0!==on){t.next=82;break}return t.abrupt("continue",84);case 82:an=ie.toInt(he[dn]),rn.has(an)||rn.set(an,on);case 84:dn++,t.next=78;break;case 87:return un=ee(rn),t.abrupt("return",Y(un[0]));case 89:case"end":return t.stop();}},t)}));return function(){return n.apply(this,arguments)}}(),Se=/*#__PURE__*/function(){var e=_asyncToGenerator(/*#__PURE__*/regeneratorRuntime.mark(function n(e){var t,r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!/\#[a-fA-F0-9]{6}/.test(e)){n.next=2;break}return n.abrupt("return",X(e));case 2:return t=e,(e instanceof Blob||e instanceof File)&&(t=URL.createObjectURL(e)),e.target&&e.target.files[0]&&(t=URL.createObjectURL(e.target.files[0])),n.next=7,ve(t);case 7:return r=n.sent,n.abrupt("return",X(r));case 9:case"end":return n.stop();}},n)}));return function(){return e.apply(this,arguments)}}();window.materialDynamicColors=Se})();